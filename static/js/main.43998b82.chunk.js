(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{225:function(e){e.exports=JSON.parse('{"site.title":"COVID-19 in Finland","site.titles.confirmed":"Confirmed cases","site.titles.deaths":"Deaths","site.titles.recovered":"Recovered","site.notification":"Note: Charts (and some other things) are currently inaccessible. There is a plan to fix this as soon as I have enough time to do it.","footer.data-source":"Data-source: {HSLink}","footer.made-by":"Source code in {GithubLink}","numbers.confirmed":"confirmed","numbers.deaths":"deaths","numbers.recovered":"recovered","numbers.today":"today","charts.confirmedPerDistrict":"Confirmed cases per health care district","charts.confirmedPerCountry":"Known infection sources by country","charts.infectionsPerDay":"Numbers per day","charts.totalInfectionsPerDay":"Total infections","labels.confirmed":"Confirmed","labels.deaths":"Deaths","labels.recovered":"Recovered","labels.pcs":"pcs","labels.date":"Date"}')},226:function(e){e.exports=JSON.parse('{"site.title":"Koronatartunnat Suomessa","site.titles.confirmed":"Varmistetut tapaukset","site.titles.deaths":"Kuolemat","site.titles.recovered":"Parantuneet","site.notification":"Huom! Graafit (ja muutamat muutamat muut elementit) eiv\xe4t ole t\xe4ll\xe4 hetkell\xe4 saavutettavia. T\xe4m\xe4 on tarkoitus korjata, kunhan aikaa t\xe4h\xe4n l\xf6ytyy.","footer.data-source":"Datal\xe4hde: {HSLink}","footer.made-by":"L\xe4hdekoodi: {GithubLink}","numbers.confirmed":"varmistettua tapausta","numbers.deaths":"kuolemaa","numbers.recovered":"parantunutta","numbers.today":"t\xe4n\xe4\xe4n","charts.confirmedPerDistrict":"Vahvistetut tartunnat sairaanhoitopiireitt\xe4in","charts.confirmedPerCountry":"Tiedossa olevat tartunnansaantimaat","charts.infectionsPerDay":"Lukemat p\xe4ivitt\xe4in","charts.totalInfectionsPerDay":"Kaikki tartunnat","labels.confirmed":"Varmistettuja","labels.deaths":"Kuolleita","labels.recovered":"Toipuneita","labels.pcs":"kpl","labels.date":"P\xe4iv\xe4"}')},236:function(e,t,n){e.exports=n(364)},241:function(e,t,n){},364:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(200),l=n.n(i),c=(n(241),n(41)),o=n(28),d=n(383),m=n(29),s=n(375),u=n(374),f=n(35);function b(){var e=Object(m.a)(["\n  font-size: 0.85rem;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  @media only screen and (min-width: 768px) {\n    width: 50rem;\n    flex-direction: row;\n    justify-content: space-around;\n  }\n"]);return b=function(){return e},e}var h=f.a.footer(b()),p=function(){return r.a.createElement(h,null,r.a.createElement("p",null,r.a.createElement(u.a,{id:"footer.data-source",values:{HSLink:r.a.createElement("a",{href:"https://github.com/HS-Datadesk/koronavirus-avoindata"},"Helsingin Sanomat")}})),r.a.createElement("p",null,r.a.createElement(u.a,{id:"footer.made-by",values:{GithubLink:r.a.createElement("a",{href:"https://github.com/eevajonnapanula/covid-19"},"Github")}})))},y=n(48),E=n(384),g=n(387),v=n(391),x=n(392),j=n(211),O=n(386),k=n(385),w=function(e){var t=e.data,n=e.title,a=t.map((function(e){return e.x})),i=t.map((function(e){return e.y})),l=i.length>0?Math.max.apply(Math,Object(y.a)(i)):0,c=Object(s.a)().formatMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{theme:g.a.grayscale,domainPadding:20,containerComponent:r.a.createElement(v.a,{responsive:!0}),padding:{bottom:150}},r.a.createElement(x.a,{style:{axis:{stroke:"#e4e3d3"},grid:{stroke:"rgba(188, 187, 174, 0.3)"}},tickFormat:function(e){return"".concat(e," ").concat(c({id:"labels.pcs"}))},dependentAxis:!0,tickLabelComponent:r.a.createElement(j.a,null,r.a.createElement(O.a,{style:{fontSize:"12px",fill:"#e4e3d3"}}))}),r.a.createElement(x.a,{style:{axis:{stroke:"#e4e3d3"}},tickValues:a,tickLabelComponent:r.a.createElement(j.a,null,r.a.createElement(O.a,{style:{textAnchor:"end",fontSize:"12px",fill:"#e4e3d3"},angle:-75}))}),r.a.createElement(k.a,{maxDomain:{y:l+20},data:t,labels:i.map((function(e){return e.toString()})),style:{parent:{border:"1px solid #ccc"},data:{fill:"#23c9ff"},labels:{fontSize:15,fill:"#e4e3d3",padding:15}},animate:{duration:2e3},labelComponent:r.a.createElement(O.a,{dy:0})}))))},D=n(381),S=n(389),C=n(394),z=n(395),L=Object(D.a)("zoom","voronoi"),P=function(e){var t=e.data,n=e.title,a=t.map((function(e){return e.y})),i=Object(s.a)().formatMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),r.a.createElement(E.a,{theme:g.a.grayscale,domainPadding:20,containerComponent:r.a.createElement(L,{responsive:!0,allowPan:!0,zoomDomain:{x:[t.length-14,t.length]},zoomDimension:"x",voronoiDimension:"x"}),padding:{bottom:100}},r.a.createElement(x.a,{style:{axis:{stroke:"#e4e3d3"},grid:{stroke:"rgba(188, 187, 174, 0.3)"}},tickFormat:function(e){return"".concat(e," ").concat(i({id:"labels.pcs"}))},dependentAxis:!0,tickLabelComponent:r.a.createElement(j.a,null,r.a.createElement(O.a,{style:{fontSize:"12px",fill:"#e4e3d3"}}))}),r.a.createElement(x.a,{style:{axis:{stroke:"#e4e3d3"}},tickValues:a,tickLabelComponent:r.a.createElement(j.a,null,r.a.createElement(O.a,{style:{textAnchor:"end",fontSize:"12px",fill:"#e4e3d3"},angle:-75}))}),r.a.createElement(S.a,{interpolation:"natural",data:t,labels:a,style:{parent:{border:"1px solid #ccc"},data:{stroke:"#23c9ff"},labels:{fontSize:15,fill:"#e4e3d3",padding:15}},animate:{duration:2e3},padding:{top:20,bottom:60},labelComponent:r.a.createElement(C.a,{pointerLength:0,flyoutStyle:{fill:"transparent",stroke:"transparent",color:"#e4e3d3"},width:5,height:5})}),r.a.createElement(z.a,{animate:{duration:2e3},data:t,size:2,style:{data:{fill:"#23c9ff"}}})))},M=n(217),F=n(70),I=n(63),A=n(128),N=(n(219),n(218)),V=function(e){return Object(N.a)({start:new Date(e),end:new Date})},H=function(e,t){return V(t).map((function(t){return{x:Object(A.a)(t,"dd.MM"),y:e.filter((function(e){return Object(F.a)(Object(I.a)(e.date),t)})).length}}))},G=n(390),K=n(397),T=Object(D.a)("zoom","voronoi"),J=function(e){var t,n=e.data,i=e.title,l=Object(s.a)().formatMessage,o=n.confirmed.map((function(e){return e.x})),d=n.confirmed.map((function(e){return e.y})),m=Object(a.useState)(""),u=Object(c.a)(m,2),f=u[0],b=u[1],h=Object(a.useState)(""),p=Object(c.a)(h,2),v=p[0],w=p[1],D=Object(a.useState)(""),S=Object(c.a)(D,2),C=S[0],z=S[1],L=Object(a.useState)(""),P=Object(c.a)(L,2),M=P[0],F=P[1],I=(t=d).length>0?Math.max.apply(Math,Object(y.a)(t)):0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,i),n.confirmed.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{theme:g.a.grayscale,domainPadding:20,padding:{bottom:100},containerComponent:r.a.createElement(T,{responsive:!0,onActivated:function(e){return function(e){var t=e.find((function(e){return"bar-confirmed"===e.childName})),n=e.find((function(e){return"bar-deaths"===e.childName})),a=e.find((function(e){return"bar-recovered"===e.childName}));w(t.y),z(n.y),F(a.y),b(t.x)}(e)},allowPan:!0,zoomDomain:{x:[n.confirmed.length-14,n.confirmed.length]},zoomDimension:"x",voronoiDimension:"x"})},r.a.createElement(G.a,{name:"legend",title:"".concat(l({id:"labels.date"})," ").concat(f),orientation:"vertical",height:50,gutter:10,data:[{name:"".concat(l({id:"labels.confirmed"})," ").concat(v)},{name:"".concat(l({id:"labels.recovered"})," ").concat(M)},{name:"".concat(l({id:"labels.deaths"})," ").concat(C)}],colorScale:["#23c9ff","#f7b267","#a93f55"],style:{labels:{fill:"#e4e3d3",fontSize:10},title:{fill:"#e4e3d3",fontSize:10}}}),r.a.createElement(x.a,{style:{axis:{stroke:"#e4e3d3"},grid:{stroke:"rgba(188, 187, 174, 0.3)"}},tickFormat:function(e){return"".concat(e," ").concat(l({id:"labels.pcs"}))},dependentAxis:!0,tickLabelComponent:r.a.createElement(j.a,null,r.a.createElement(O.a,{style:{fontSize:"12px",fill:"#e4e3d3"}}))}),r.a.createElement(x.a,{tickValues:o,style:{axis:{stroke:"#e4e3d3"}},tickLabelComponent:r.a.createElement(j.a,null,r.a.createElement(O.a,{style:{textAnchor:"end",fontSize:"12px",fill:"#e4e3d3"},angle:-75}))}),r.a.createElement(K.a,{colorScale:["#23c9ff","#a93f55","#f7b267","#6B2D5C","#D7A7B1"],style:{data:{width:15}}},r.a.createElement(k.a,{name:"bar-confirmed",maxDomain:{y:I+20},data:n.confirmed,animate:{duration:2e3},style:{labels:{fill:"#e4e3d3"}}}),r.a.createElement(k.a,{name:"bar-deaths",maxDomain:{y:I+20},data:n.deaths,style:{labels:{fill:"#e4e3d3"}},animate:{duration:2e3}}),r.a.createElement(k.a,{name:"bar-recovered",maxDomain:{y:I+20},data:n.recovered,style:{labels:{fill:"#e4e3d3"}},animate:{duration:2e3}})))))},R=function(e){var t=e.data,n=Object(s.a)().formatMessage,i=Object(a.useState)([]),l=Object(c.a)(i,2),o=l[0],d=l[1],m=Object(a.useState)({confirmed:[],deaths:[],recovered:[]}),u=Object(c.a)(m,2),f=u[0],b=u[1],h=Object(a.useState)([]),p=Object(c.a)(h,2),y=p[0],E=p[1];Object(a.useEffect)((function(){if(t){var e=(r=t.confirmed,i="healthCareDistrict",r.reduce((function(e,t){return void 0!==e.find((function(e){return e.x===t[i]}))?e.map((function(e){return e.x===t[i]?Object(M.a)({},e,{y:e.y+1}):e})):(e.push({x:t[i],y:1}),e)}),[]));d(e);var n={confirmed:H(t.confirmed,t.confirmed[0].date),deaths:H(t.deaths,t.confirmed[0].date),recovered:H(t.recovered,t.confirmed[0].date)};b(n);var a=function(e){return e[0]?V(e[0].date).reduce((function(t,n,a){return 0===a?t.push({x:Object(A.a)(n,"dd.MM"),y:e.filter((function(e){return Object(F.a)(Object(I.a)(e.date),n)})).length}):t.push({x:Object(A.a)(n,"dd.MM"),y:t[a-1].y+e.filter((function(e){return Object(F.a)(Object(I.a)(e.date),n)})).length}),t}),[]):[]}(t.confirmed);E(a)}var r,i}),[t]);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{data:y,title:n({id:"charts.totalInfectionsPerDay"})}),r.a.createElement(J,{data:f,title:n({id:"charts.infectionsPerDay"})}),r.a.createElement(w,{data:o,title:n({id:"charts.confirmedPerDistrict"})})):r.a.createElement("div",null,"loading"))};function B(){var e=Object(m.a)(["\n  font-size: 3rem;\n"]);return B=function(){return e},e}function q(){var e=Object(m.a)(["\n  min-width: 10rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #222139;\n  padding: 0.5rem;\n"]);return q=function(){return e},e}var Q=f.a.div(q()),U=f.a.div(B()),W=function(e){var t=e.number,n=e.label;return r.a.createElement(Q,null,r.a.createElement(U,null,t),r.a.createElement("p",null,n))};function X(){var e=Object(m.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-gap: 1rem;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  &:not(:last-child) {\n    margin-bottom: 0.5rem;\n  }\n"]);return X=function(){return e},e}function Y(){var e=Object(m.a)(["\n  width: 100%;\n  padding-bottom: 2rem;\n  @media only screen and (min-width: 768px) {\n    width: 30rem;\n  }\n"]);return Y=function(){return e},e}var Z=f.a.div(Y()),$=f.a.div(X()),_=function(e){var t=e.confirmed,n=e.deaths,a=e.recovered,i=Object(s.a)().formatMessage;return r.a.createElement(Z,null,r.a.createElement("h2",null,r.a.createElement(u.a,{id:"site.titles.confirmed"})),r.a.createElement($,null,r.a.createElement(W,{number:t.all,label:i({id:"numbers.confirmed"})}),r.a.createElement(W,{number:t.today,label:i({id:"numbers.today"})})),r.a.createElement("h2",null,r.a.createElement(u.a,{id:"site.titles.deaths"})),r.a.createElement($,null,r.a.createElement(W,{number:n.all,label:i({id:"numbers.deaths"})}),r.a.createElement(W,{number:n.today,label:i({id:"numbers.today"})})),r.a.createElement("h2",null,r.a.createElement(u.a,{id:"site.titles.recovered"})),r.a.createElement($,null,r.a.createElement(W,{number:a.all,label:i({id:"numbers.recovered"})}),r.a.createElement(W,{number:a.today,label:i({id:"numbers.today"})})))},ee=n(153),te=n(220);function ne(){var e=Object(m.a)(['\n  query confirmed {\n    data @rest(type: "Data", path: "/") {\n      confirmed @type(name: "Confirmed") {\n        id\n        date\n        healthCareDistrict\n        infectionSourceCountry\n        infectionSource\n      }\n      deaths @type(name: "Deaths") {\n        id\n        date\n      }\n      recovered @type(name: "Recovered") {\n        id\n        date\n      }\n    }\n  }\n']);return ne=function(){return e},e}var ae=n.n(te)()(ne()),re=n(127);function ie(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  line-height: 1.5rem;\n  align-items: center;\n  background-color: #222139;\n  padding: 2rem;\n  width: 80%;\n  margin: 2rem 1rem 2rem 1rem;\n  @media only screen and (min-width: 768px) {\n    width: 26rem;\n  }\n"]);return ie=function(){return e},e}function le(){var e=Object(m.a)(["\n  background-color: ",";\n  border: 0.125rem solid #e4e3d3;\n  color: ",";\n  padding: 1rem;\n  width: 4rem;\n  &:first-child {\n    border-radius: 0.5rem 0 0 0.5rem;\n    border-right: none;\n  }\n\n  &:last-child {\n    border-radius: 0 0.5rem 0.5rem 0;\n    border-left: none;\n  }\n"]);return le=function(){return e},e}function ce(){var e=Object(m.a)(["\n  margin: 0 1rem 0 1rem;\n"]);return ce=function(){return e},e}function oe(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  margin: 2rem 1rem 2rem 1rem;\n  width: 80%;\n  @media only screen and (min-width: 1000px) {\n    width: 50rem;\n  }\n"]);return oe=function(){return e},e}function de(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 100%;\n  @media only screen and (min-width: 1000px) {\n    width: 50rem;\n  }\n"]);return de=function(){return e},e}var me=f.a.header(de()),se=f.a.main(oe()),ue=f.a.div(ce()),fe=f.a.button(le(),(function(e){return e.active?"#e4e3d3":"#2e2d4d"}),(function(e){return e.active?"#2e2d4d":"#e4e3d3"})),be=f.a.div(ie()),he=function(e){var t=e.changeLocale,n=Object(s.a)().locale,a=Object(ee.a)(ae).data,i=function(){t()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null,r.a.createElement(ue,null,r.a.createElement(fe,{onClick:i,active:"fi"===n},"FI"),r.a.createElement(fe,{onClick:i,active:"en"===n},"EN"))),r.a.createElement(se,null,r.a.createElement("h1",null,r.a.createElement(u.a,{id:"site.title"})),r.a.createElement(be,null,r.a.createElement("p",null,r.a.createElement(u.a,{id:"site.notification"}))),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{confirmed:{all:a.data.confirmed.length,today:a.data.confirmed.filter((function(e){return Object(re.a)(new Date(e.date))})).length},deaths:{all:a.data.deaths.length,today:a.data.deaths.filter((function(e){return Object(re.a)(new Date(e.date))})).length},recovered:{all:a.data.recovered.length,today:a.data.recovered.filter((function(e){return Object(re.a)(new Date(e.date))})).length}}),r.a.createElement(R,{data:a.data}))),r.a.createElement(p,null))},pe=n(225),ye=n(226),Ee=n(62),ge=n(228),ve=n(227),xe=new ge.a,je=new ve.RestLink({uri:"https://w3qa5ydb4l.execute-api.eu-west-1.amazonaws.com/prod/finnishCoronaData/v2"}),Oe=new Ee.a({link:je,cache:xe}),ke={en:pe,fi:ye},we=function(){var e=localStorage.getItem("locale"),t="en"===e||"fi"===e?e:"fi",n=Object(a.useState)(t),i=Object(c.a)(n,2),l=i[0],m=i[1];return r.a.createElement(d.a,{locale:l,messages:ke[l]},r.a.createElement(o.a,{client:Oe},r.a.createElement(he,{changeLocale:function(){localStorage.setItem("locale","en"===l?"fi":"en"),m("en"===l?"fi":"en"),document.documentElement.lang="en"===l?"fi":"en"}})))};l.a.render(r.a.createElement(we,null),document.getElementById("root"))}},[[236,1,2]]]);
//# sourceMappingURL=main.43998b82.chunk.js.map
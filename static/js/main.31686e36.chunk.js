(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{222:function(e){e.exports=JSON.parse('{"site.title":"COVID-19 in Finland","site.titles.confirmed":"Confirmed cases","site.titles.deaths":"Deaths","site.titles.recovered":"Recovered","site.notification":"Due to changes in testing policies in some healthcare districts, not all cases will be confirmed. Read more: ","footer.data-source":"Data-source: {HSLink}","footer.made-by":"Source code in {GithubLink}","numbers.confirmed":"confirmed","numbers.deaths":"deaths","numbers.recovered":"recovered","numbers.today":"today","charts.confirmedPerDistrict":"Confirmed cases per health care district","charts.confirmedPerCountry":"Known infection sources by country","charts.infectionsPerDay":"Numbers per day","charts.totalInfectionsPerDay":"Total infections","labels.confirmed":"Confirmed","labels.deaths":"Deaths","labels.recovered":"Recovered","labels.pcs":"pcs","labels.date":"Date"}')},223:function(e){e.exports=JSON.parse('{"site.title":"Koronatartunnat Suomessa","site.titles.confirmed":"Varmistetut tapaukset","site.titles.deaths":"Kuolemat","site.titles.recovered":"Parantuneet","site.notification":"Testaustavan muutoksen vuoksi kaikkia tapauksia ei tulla en\xe4\xe4 todentamaan, ja n\xe4inollen tartuntojen m\xe4\xe4r\xe4t ovat v\xe4h\xe4isempi\xe4. Lue lis\xe4\xe4:","footer.data-source":"Datal\xe4hde: {HSLink}","footer.made-by":"L\xe4hdekoodi: {GithubLink}","numbers.confirmed":"varmistettua tapausta","numbers.deaths":"kuolemaa","numbers.recovered":"parantunutta","numbers.today":"t\xe4n\xe4\xe4n","charts.confirmedPerDistrict":"Vahvistetut tartunnat sairaanhoitopiireitt\xe4in","charts.confirmedPerCountry":"Tiedossa olevat tartunnansaantimaat","charts.infectionsPerDay":"Lukemat p\xe4ivitt\xe4in","charts.totalInfectionsPerDay":"Kaikki tartunnat","labels.confirmed":"Varmistettuja","labels.deaths":"Kuolleita","labels.recovered":"Toipuneita","labels.pcs":"kpl","labels.date":"P\xe4iv\xe4"}')},233:function(e,t,n){e.exports=n(361)},238:function(e,t,n){},361:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(198),l=n.n(i),c=(n(238),n(36)),o=n(29),d=n(380),s=n(30),m=n(372),u=n(371),f=n(35);function b(){var e=Object(s.a)(["\n  font-size: 0.85rem;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  @media only screen and (min-width: 768px) {\n    width: 50rem;\n    flex-direction: row;\n    justify-content: space-around;\n  }\n"]);return b=function(){return e},e}var h=f.a.footer(b()),p=function(){return r.a.createElement(h,null,r.a.createElement("p",null,r.a.createElement(u.a,{id:"footer.data-source",values:{HSLink:r.a.createElement("a",{href:"https://github.com/HS-Datadesk/koronavirus-avoindata"},"Helsingin Sanomat")}})),r.a.createElement("p",null,r.a.createElement(u.a,{id:"footer.made-by",values:{GithubLink:r.a.createElement("a",{href:"https://github.com/eevajonnapanula/covid-19"},"Github")}})))},y=n(48),E=n(381),g=n(384),v=n(389),j=n(390),x=n(209),O=n(383),k=n(382),w=function(e){var t=e.data,n=e.title,a=t.map((function(e){return e.x})),i=t.map((function(e){return e.y})),l=i.length>0?Math.max.apply(Math,Object(y.a)(i)):0,c=Object(m.a)().formatMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{theme:g.a.grayscale,domainPadding:20,containerComponent:r.a.createElement(v.a,{responsive:!0}),padding:{bottom:150}},r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"},grid:{stroke:"rgba(188, 187, 174, 0.3)"}},tickFormat:function(e){return"".concat(e," ").concat(c({id:"labels.pcs"}))},dependentAxis:!0,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{fontSize:"12px",fill:"#e4e3d3"}}))}),r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"}},tickValues:a,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{textAnchor:"end",fontSize:"12px",fill:"#e4e3d3"},angle:-75}))}),r.a.createElement(k.a,{maxDomain:{y:l+20},data:t,labels:i.map((function(e){return e.toString()})),style:{parent:{border:"1px solid #ccc"},data:{fill:"#23c9ff"},labels:{fontSize:15,fill:"#e4e3d3",padding:15}},animate:{duration:2e3},labelComponent:r.a.createElement(O.a,{dy:0})}))))},D=n(385),S=n(386),C=function(e){var t=e.data,n=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),r.a.createElement(D.a,{name:"legend",orientation:"horizontal",gutter:20,data:t.filter((function(e){return e.x})).map((function(e){return{name:"".concat(e.x,": ").concat(e.y)}})),colorScale:["#23c9ff","#f7b267","#a93f55","#6B2D5C","#D7A7B1","#476774","#FBF2C0"],style:{labels:{fill:"#e4e3d3"}},itemsPerRow:5,height:50}),r.a.createElement(S.a,{name:"bar",padAngle:2,innerRadius:100,data:t.filter((function(e){return e.x})),colorScale:["#23c9ff","#f7b267","#a93f55","#6B2D5C","#D7A7B1","#476774","#FBF2C0"],containerComponent:r.a.createElement(v.a,{responsive:!0}),theme:g.a.grayscale,style:{labels:{fill:"transparent"}},labels:function(e){var t=e.datum;return"".concat(t.x,": ").concat(t.y)},labelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,null)),events:[{target:"data",eventHandlers:{onClick:function(){return[{target:"labels",mutation:function(e){return"transparent"===(e.style&&e.style.fill)?{style:{fill:"#e4e3d3"}}:{style:{fill:"transparent"}}}}]},onMouseOver:function(){return[{target:"labels",mutation:function(){return{style:{fill:"#e4e3d3"}}}}]},onMouseLeave:function(){return[{target:"labels",mutation:function(){return{style:{fill:"transparent"}}}}]}}}]}))},z=n(378),L=n(388),P=n(393),F=n(394),M=Object(z.a)("zoom","voronoi"),A=function(e){var t=e.data,n=e.title,a=t.map((function(e){return e.y})),i=Object(m.a)().formatMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),r.a.createElement(E.a,{theme:g.a.grayscale,domainPadding:20,containerComponent:r.a.createElement(M,{responsive:!0,allowPan:!0,zoomDomain:{x:[t.length-14,t.length]},zoomDimension:"x",voronoiDimension:"x"}),padding:{bottom:100}},r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"},grid:{stroke:"rgba(188, 187, 174, 0.3)"}},tickFormat:function(e){return"".concat(e," ").concat(i({id:"labels.pcs"}))},dependentAxis:!0,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{fontSize:"12px",fill:"#e4e3d3"}}))}),r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"}},tickValues:a,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{textAnchor:"end",fontSize:"12px",fill:"#e4e3d3"},angle:-75}))}),r.a.createElement(L.a,{interpolation:"natural",data:t,labels:a,style:{parent:{border:"1px solid #ccc"},data:{stroke:"#23c9ff"},labels:{fontSize:15,fill:"#e4e3d3",padding:15}},animate:{duration:2e3},padding:{top:20,bottom:60},labelComponent:r.a.createElement(P.a,{pointerLength:0,flyoutStyle:{fill:"transparent",stroke:"transparent",color:"#e4e3d3"},width:5,height:5})}),r.a.createElement(F.a,{animate:{duration:2e3},data:t,size:2,style:{data:{fill:"#23c9ff"}}})))},B=n(215),H=n(87),I=n(123),N=n(125),R=n(216),V=function(e){return Object(R.a)({start:new Date(e),end:new Date})},_=function(e,t){return e.reduce((function(e,n){return void 0!==e.find((function(e){return e.x===n[t]}))?e.map((function(e){return e.x===n[t]?Object(B.a)({},e,{y:e.y+1}):e})):(e.push({x:n[t],y:1}),e)}),[])},K=function(e,t){return V(t).map((function(t){return{x:Object(N.a)(t,"dd.MM"),y:e.filter((function(e){return Object(H.a)(Object(I.a)(e.date),t)})).length}}))},T=n(395),G=Object(z.a)("zoom","voronoi"),J=function(e){var t,n=e.data,i=e.title,l=Object(m.a)().formatMessage,o=n.confirmed.map((function(e){return e.x})),d=n.confirmed.map((function(e){return e.y})),s=Object(a.useState)(""),u=Object(c.a)(s,2),f=u[0],b=u[1],h=Object(a.useState)(""),p=Object(c.a)(h,2),v=p[0],w=p[1],S=Object(a.useState)(""),C=Object(c.a)(S,2),z=C[0],L=C[1],P=Object(a.useState)(""),F=Object(c.a)(P,2),M=F[0],A=F[1],B=(t=d).length>0?Math.max.apply(Math,Object(y.a)(t)):0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,i),n.confirmed.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{theme:g.a.grayscale,domainPadding:20,padding:{bottom:100},containerComponent:r.a.createElement(G,{responsive:!0,onActivated:function(e){return function(e){var t=e.find((function(e){return"bar-confirmed"===e.childName})),n=e.find((function(e){return"bar-deaths"===e.childName})),a=e.find((function(e){return"bar-recovered"===e.childName}));w(t.y),L(n.y),A(a.y),b(t.x)}(e)},allowPan:!0,zoomDomain:{x:[n.confirmed.length-14,n.confirmed.length]},zoomDimension:"x",voronoiDimension:"x"})},r.a.createElement(D.a,{name:"legend",title:"".concat(l({id:"labels.date"})," ").concat(f),orientation:"vertical",height:50,gutter:10,data:[{name:"".concat(l({id:"labels.confirmed"})," ").concat(v)},{name:"".concat(l({id:"labels.recovered"})," ").concat(M)},{name:"".concat(l({id:"labels.deaths"})," ").concat(z)}],colorScale:["#23c9ff","#f7b267","#a93f55"],style:{labels:{fill:"#e4e3d3",fontSize:10},title:{fill:"#e4e3d3",fontSize:10}}}),r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"},grid:{stroke:"rgba(188, 187, 174, 0.3)"}},tickFormat:function(e){return"".concat(e," ").concat(l({id:"labels.pcs"}))},dependentAxis:!0,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{fontSize:"12px",fill:"#e4e3d3"}}))}),r.a.createElement(j.a,{tickValues:o,style:{axis:{stroke:"#e4e3d3"}},tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{textAnchor:"end",fontSize:"12px",fill:"#e4e3d3"},angle:-75}))}),r.a.createElement(T.a,{colorScale:["#23c9ff","#a93f55","#f7b267","#6B2D5C","#D7A7B1"],style:{data:{width:15}}},r.a.createElement(k.a,{name:"bar-confirmed",maxDomain:{y:B+20},data:n.confirmed,animate:{duration:2e3},style:{labels:{fill:"#e4e3d3"}}}),r.a.createElement(k.a,{name:"bar-deaths",maxDomain:{y:B+20},data:n.deaths,style:{labels:{fill:"#e4e3d3"}},animate:{duration:2e3}}),r.a.createElement(k.a,{name:"bar-recovered",maxDomain:{y:B+20},data:n.recovered,style:{labels:{fill:"#e4e3d3"}},animate:{duration:2e3}})))))},q=function(e){var t=e.data,n=Object(m.a)().formatMessage,i=Object(a.useState)([]),l=Object(c.a)(i,2),o=l[0],d=l[1],s=Object(a.useState)([]),u=Object(c.a)(s,2),f=u[0],b=u[1],h=Object(a.useState)({confirmed:[],deaths:[],recovered:[]}),p=Object(c.a)(h,2),y=p[0],E=p[1],g=Object(a.useState)([]),v=Object(c.a)(g,2),j=v[0],x=v[1];Object(a.useEffect)((function(){if(t){var e=_(t.confirmed,"healthCareDistrict");d(e);var n=_(t.confirmed,"infectionSourceCountry");b(n);var a={confirmed:K(t.confirmed,t.confirmed[0].date),deaths:K(t.deaths,t.confirmed[0].date),recovered:K(t.recovered,t.confirmed[0].date)};E(a);var r=function(e){return e[0]?V(e[0].date).reduce((function(t,n,a){return 0===a?t.push({x:Object(N.a)(n,"dd.MM"),y:e.filter((function(e){return Object(H.a)(Object(I.a)(e.date),n)})).length}):t.push({x:Object(N.a)(n,"dd.MM"),y:t[a-1].y+e.filter((function(e){return Object(H.a)(Object(I.a)(e.date),n)})).length}),t}),[]):[]}(t.confirmed);x(r)}}),[t]);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{data:j,title:n({id:"charts.totalInfectionsPerDay"})}),r.a.createElement(J,{data:y,title:n({id:"charts.infectionsPerDay"})}),r.a.createElement(w,{data:o,title:n({id:"charts.confirmedPerDistrict"})}),r.a.createElement(C,{data:f,title:n({id:"charts.confirmedPerCountry"})})):r.a.createElement("div",null,"loading"))};function U(){var e=Object(s.a)(["\n  font-size: 3rem;\n"]);return U=function(){return e},e}function Y(){var e=Object(s.a)(["\n  min-width: 10rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #222139;\n  padding: 0.5rem;\n"]);return Y=function(){return e},e}var Q=f.a.div(Y()),W=f.a.div(U()),X=function(e){var t=e.number,n=e.label;return r.a.createElement(Q,null,r.a.createElement(W,null,t),r.a.createElement("p",null,n))};function Z(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-gap: 1rem;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  &:not(:last-child) {\n    margin-bottom: 0.5rem;\n  }\n"]);return Z=function(){return e},e}function $(){var e=Object(s.a)(["\n  width: 100%;\n  padding-bottom: 2rem;\n  @media only screen and (min-width: 768px) {\n    width: 30rem;\n  }\n"]);return $=function(){return e},e}var ee=f.a.div($()),te=f.a.div(Z()),ne=function(e){var t=e.confirmed,n=e.deaths,a=e.recovered,i=Object(m.a)().formatMessage;return r.a.createElement(ee,null,r.a.createElement("h2",null,r.a.createElement(u.a,{id:"site.titles.confirmed"})),r.a.createElement(te,null,r.a.createElement(X,{number:t.all,label:i({id:"numbers.confirmed"})}),r.a.createElement(X,{number:t.today,label:i({id:"numbers.today"})})),r.a.createElement("h2",null,r.a.createElement(u.a,{id:"site.titles.deaths"})),r.a.createElement(te,null,r.a.createElement(X,{number:n.all,label:i({id:"numbers.deaths"})}),r.a.createElement(X,{number:n.today,label:i({id:"numbers.today"})})),r.a.createElement("h2",null,r.a.createElement(u.a,{id:"site.titles.recovered"})),r.a.createElement(te,null,r.a.createElement(X,{number:a.all,label:i({id:"numbers.recovered"})}),r.a.createElement(X,{number:a.today,label:i({id:"numbers.today"})})))},ae=n(151),re=n(217);function ie(){var e=Object(s.a)(['\n  query confirmed {\n    data @rest(type: "Data", path: "/") {\n      confirmed @type(name: "Confirmed") {\n        id\n        date\n        healthCareDistrict\n        infectionSourceCountry\n        infectionSource\n      }\n      deaths @type(name: "Deaths") {\n        id\n        date\n      }\n      recovered @type(name: "Recovered") {\n        id\n        date\n      }\n    }\n  }\n']);return ie=function(){return e},e}var le=n.n(re)()(ie()),ce=n(124);function oe(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  line-height: 1.5rem;\n  align-items: center;\n  background-color: #222139;\n  padding: 2rem;\n  width: 80%;\n  margin: 2rem 1rem 2rem 1rem;\n  @media only screen and (min-width: 768px) {\n    width: 26rem;\n  }\n"]);return oe=function(){return e},e}function de(){var e=Object(s.a)(["\n  background-color: ",";\n  border: 0.125rem solid #e4e3d3;\n  color: ",";\n  padding: 1rem;\n  width: 4rem;\n  &:first-child {\n    border-radius: 0.5rem 0 0 0.5rem;\n    border-right: none;\n  }\n\n  &:last-child {\n    border-radius: 0 0.5rem 0.5rem 0;\n    border-left: none;\n  }\n"]);return de=function(){return e},e}function se(){var e=Object(s.a)(["\n  margin: 0 1rem 0 1rem;\n"]);return se=function(){return e},e}function me(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  margin: 2rem 1rem 2rem 1rem;\n  width: 80%;\n  @media only screen and (min-width: 1000px) {\n    width: 50rem;\n  }\n"]);return me=function(){return e},e}function ue(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 100%;\n  @media only screen and (min-width: 1000px) {\n    width: 50rem;\n  }\n"]);return ue=function(){return e},e}var fe=f.a.header(ue()),be=f.a.main(me()),he=f.a.div(se()),pe=f.a.button(de(),(function(e){return e.active?"#e4e3d3":"#2e2d4d"}),(function(e){return e.active?"#2e2d4d":"#e4e3d3"})),ye=f.a.div(oe()),Ee=function(e){var t=e.changeLocale,n=Object(m.a)().locale,a=Object(ae.a)(le).data,i=function(){t()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,null,r.a.createElement(he,null,r.a.createElement(pe,{onClick:i,active:"fi"===n},"FI"),r.a.createElement(pe,{onClick:i,active:"en"===n},"EN"))),r.a.createElement(be,null,r.a.createElement("h1",null,r.a.createElement(u.a,{id:"site.title"})),r.a.createElement(ye,null,r.a.createElement("p",null,r.a.createElement(u.a,{id:"site.notification"})),r.a.createElement("p",null,"en"===n?r.a.createElement("a",{href:"https://yle.fi/uutiset/osasto/news/hus_coronavirus_testing_to_focus_on_health_professionals/11257869"},"HUS: Coronavirus testing to focus on health professionals - YLE"):r.a.createElement("a",{href:"https://www.hs.fi/kotimaa/art-2000006440293.html"},"Testaus\xadtavan muutos Husissa v\xe4hensi havaittuja tartuntoja sunnuntaina \u2013 Suomi tartunnoissa yh\xe4 Pohjois\xadmaiden tahdissa - HS"))),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{confirmed:{all:a.data.confirmed.length,today:a.data.confirmed.filter((function(e){return Object(ce.a)(new Date(e.date))})).length},deaths:{all:a.data.deaths.length,today:a.data.deaths.filter((function(e){return Object(ce.a)(new Date(e.date))})).length},recovered:{all:a.data.recovered.length,today:a.data.recovered.filter((function(e){return Object(ce.a)(new Date(e.date))})).length}}),r.a.createElement(q,{data:a.data}))),r.a.createElement(p,null))},ge=n(222),ve=n(223),je=n(63),xe=n(225),Oe=n(224),ke=new xe.a,we=new Oe.RestLink({uri:"https://w3qa5ydb4l.execute-api.eu-west-1.amazonaws.com/prod/finnishCoronaData"}),De=new je.a({link:we,cache:ke}),Se={en:ge,fi:ve},Ce=function(){var e=localStorage.getItem("locale"),t="en"===e||"fi"===e?e:"fi",n=Object(a.useState)(t),i=Object(c.a)(n,2),l=i[0],s=i[1];return r.a.createElement(d.a,{locale:l,messages:Se[l]},r.a.createElement(o.a,{client:De},r.a.createElement(Ee,{changeLocale:function(){localStorage.setItem("locale","en"===l?"fi":"en"),s("en"===l?"fi":"en")}})))};l.a.render(r.a.createElement(Ce,null),document.getElementById("root"))}},[[233,1,2]]]);
//# sourceMappingURL=main.31686e36.chunk.js.map
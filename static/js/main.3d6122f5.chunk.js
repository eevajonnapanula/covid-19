(this["webpackJsonpcovid-19"]=this["webpackJsonpcovid-19"]||[]).push([[0],{207:function(e){e.exports=JSON.parse('{"site.title":"COVID-19 in Finland","site.titles.confirmed":"Confirmed cases","site.titles.deaths":"Deaths","site.titles.recovered":"Recovered","site.notification":"Due to changes in testing policies in some healthcare districts, not all cases will be confirmed. Read more: ","footer.data-source":"Data-source: {HSLink}","footer.made-by":"Source code in {GithubLink}","numbers.confirmed":"confirmed","numbers.deaths":"deaths","numbers.recovered":"recovered","numbers.today":"today","charts.confirmedPerDistrict":"Confirmed cases per health care district","charts.confirmedPerCountry":"Known infection sources by country","charts.infectionsPerDay":"Numbers per day","charts.totalInfectionsPerDay":"Total infections","labels.confirmed":"Confirmed","labels.deaths":"Deaths","labels.recovered":"Recovered","labels.pcs":"pcs","labels.date":"Date"}')},208:function(e){e.exports=JSON.parse('{"site.title":"Koronatartunnat Suomessa","site.titles.confirmed":"Varmistetut tapaukset","site.titles.deaths":"Kuolemat","site.titles.recovered":"Parantuneet","site.notification":"Testaustavan muutoksen vuoksi kaikkia tapauksia ei tulla en\xe4\xe4 todentamaan, ja n\xe4inollen tartuntojen m\xe4\xe4r\xe4t ovat v\xe4h\xe4isempi\xe4. Lue lis\xe4\xe4:","footer.data-source":"Datal\xe4hde: {HSLink}","footer.made-by":"L\xe4hdekoodi: {GithubLink}","numbers.confirmed":"varmistettua tapausta","numbers.deaths":"kuolemaa","numbers.recovered":"parantunutta","numbers.today":"t\xe4n\xe4\xe4n","charts.confirmedPerDistrict":"Vahvistetut tartunnat sairaanhoitopiireitt\xe4in","charts.confirmedPerCountry":"Tiedossa olevat tartunnansaantimaat","charts.infectionsPerDay":"Lukemat p\xe4ivitt\xe4in","charts.totalInfectionsPerDay":"Kaikki tartunnat","labels.confirmed":"Varmistettuja","labels.deaths":"Kuolleita","labels.recovered":"Toipuneita","labels.pcs":"kpl","labels.date":"P\xe4iv\xe4"}')},219:function(e,t,n){e.exports=n(339)},224:function(e,t,n){},339:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(186),l=n.n(i),c=(n(224),n(36)),o=n(26),d=n(352),s=n(27),u=n(345),m=n(344),f=n(34);function b(){var e=Object(s.a)(["\n  font-size: 0.85rem;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  @media only screen and (min-width: 768px) {\n    width: 50rem;\n    flex-direction: row;\n    justify-content: space-around;\n  }\n"]);return b=function(){return e},e}var h=f.a.footer(b()),p=function(){return r.a.createElement(h,null,r.a.createElement("p",null,r.a.createElement(m.a,{id:"footer.data-source",values:{HSLink:r.a.createElement("a",{href:"https://github.com/HS-Datadesk/koronavirus-avoindata"},"Helsingin Sanomat")}})),r.a.createElement("p",null,r.a.createElement(m.a,{id:"footer.made-by",values:{GithubLink:r.a.createElement("a",{href:"https://github.com/eevajonnapanula/covid-19"},"Github")}})))},y=n(47),E=n(354),g=n(357),v=n(361),j=n(362),x=n(197),O=n(356),k=n(355),w=function(e){var t=e.data,n=e.title,a=t.map((function(e){return e.x})),i=t.map((function(e){return e.y})),l=i.length>0?Math.max.apply(Math,Object(y.a)(i)):0,c=Object(u.a)().formatMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{theme:g.a.grayscale,domainPadding:20,containerComponent:r.a.createElement(v.a,{responsive:!0}),padding:{bottom:150}},r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"},grid:{stroke:"rgba(188, 187, 174, 0.3)"}},tickFormat:function(e){return"".concat(e," ").concat(c({id:"labels.pcs"}))},dependentAxis:!0,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{fontSize:"12px",fill:"#e4e3d3"}}))}),r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"}},tickValues:a,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{textAnchor:"end",fontSize:"12px",fill:"#e4e3d3"},angle:-75}))}),r.a.createElement(k.a,{maxDomain:{y:l+20},data:t,labels:i.map((function(e){return e.toString()})),style:{parent:{border:"1px solid #ccc"},data:{fill:"#23c9ff"},labels:{fontSize:15,fill:"#e4e3d3",padding:15}},animate:{duration:2e3},labelComponent:r.a.createElement(O.a,{dy:0})}))))},S=n(358),D=n(359),C=function(e){var t=e.data,n=e.title;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),r.a.createElement(S.a,{name:"legend",orientation:"horizontal",gutter:20,data:t.filter((function(e){return e.x})).map((function(e){return{name:"".concat(e.x,": ").concat(e.y)}})),colorScale:["#23c9ff","#f7b267","#a93f55","#6B2D5C","#D7A7B1","#476774","#FBF2C0"],style:{labels:{fill:"#e4e3d3"}},itemsPerRow:5,height:50}),r.a.createElement(D.a,{name:"bar",padAngle:2,innerRadius:100,data:t.filter((function(e){return e.x})),colorScale:["#23c9ff","#f7b267","#a93f55","#6B2D5C","#D7A7B1","#476774","#FBF2C0"],containerComponent:r.a.createElement(v.a,{responsive:!0}),theme:g.a.grayscale,style:{labels:{fill:"transparent"}},labels:function(e){var t=e.datum;return"".concat(t.x,": ").concat(t.y)},labelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,null)),events:[{target:"data",eventHandlers:{onClick:function(){return[{target:"labels",mutation:function(e){return"transparent"===(e.style&&e.style.fill)?{style:{fill:"#e4e3d3"}}:{style:{fill:"transparent"}}}}]},onMouseOver:function(){return[{target:"labels",mutation:function(){return{style:{fill:"#e4e3d3"}}}}]},onMouseLeave:function(){return[{target:"labels",mutation:function(){return{style:{fill:"transparent"}}}}]}}}]}))},L=n(360),F=n(353),P=n(365),M=n(366),z=function(e){var t=e.data,n=e.title,a=t.map((function(e){return e.y})),i=Object(u.a)().formatMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),r.a.createElement(E.a,{theme:g.a.grayscale,domainPadding:20,containerComponent:r.a.createElement(L.a,{responsive:!0}),padding:{bottom:100}},r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"},grid:{stroke:"rgba(188, 187, 174, 0.3)"}},tickFormat:function(e){return"".concat(e," ").concat(i({id:"labels.pcs"}))},dependentAxis:!0,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{fontSize:"12px",fill:"#e4e3d3"}}))}),r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"}},tickValues:a,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{textAnchor:"end",fontSize:"12px",fill:"#e4e3d3"},angle:-75}))}),r.a.createElement(F.a,{interpolation:"natural",data:t,labels:a,style:{parent:{border:"1px solid #ccc"},data:{stroke:"#23c9ff"},labels:{fontSize:15,fill:"#e4e3d3",padding:15}},animate:{duration:2e3},padding:{top:20,bottom:60},labelComponent:r.a.createElement(P.a,{pointerLength:0,flyoutStyle:{fill:"transparent",stroke:"transparent",color:"#e4e3d3"},width:5,height:5})}),r.a.createElement(M.a,{animate:{duration:2e3},data:t,size:2,style:{data:{fill:"#23c9ff"}}})))},A=n(200),B=n(83),H=n(118),I=n(120),N=n(201),R=n(212),V=Object(N.a)({start:Object(R.a)(new Date,14),end:new Date}),_=function(e,t){return e.reduce((function(e,n){return void 0!==e.find((function(e){return e.x===n[t]}))?e.map((function(e){return e.x===n[t]?Object(A.a)({},e,{y:e.y+1}):e})):(e.push({x:n[t],y:1}),e)}),[])},K=function(e){return V.map((function(t){return{x:Object(I.a)(t,"dd.MM"),y:e.filter((function(e){return Object(B.a)(Object(H.a)(e.date),t)})).length}}))},T=n(367),G=function(e){var t,n=e.data,i=e.title,l=Object(u.a)().formatMessage,o=n.confirmed.map((function(e){return e.x})),d=n.confirmed.map((function(e){return e.y})),s=Object(a.useState)(""),m=Object(c.a)(s,2),f=m[0],b=m[1],h=Object(a.useState)(""),p=Object(c.a)(h,2),v=p[0],w=p[1],D=Object(a.useState)(""),C=Object(c.a)(D,2),F=C[0],P=C[1],M=Object(a.useState)(""),z=Object(c.a)(M,2),A=z[0],B=z[1],H=(t=d).length>0?Math.max.apply(Math,Object(y.a)(t)):0;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,i),n.confirmed.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{theme:g.a.grayscale,domainPadding:20,padding:{bottom:100},containerComponent:r.a.createElement(L.a,{onActivated:function(e){return function(e){var t=e.find((function(e){return"bar-confirmed"===e.childName})),n=e.find((function(e){return"bar-deaths"===e.childName})),a=e.find((function(e){return"bar-recovered"===e.childName}));w(t.y),P(n.y),B(a.y),b(t.x)}(e)},voronoiDimension:"x"})},r.a.createElement(S.a,{name:"legend",title:"".concat(l({id:"labels.date"})," ").concat(f),orientation:"vertical",height:50,gutter:10,data:[{name:"".concat(l({id:"labels.confirmed"})," ").concat(v)},{name:"".concat(l({id:"labels.recovered"})," ").concat(A)},{name:"".concat(l({id:"labels.deaths"})," ").concat(F)}],colorScale:["#23c9ff","#f7b267","#a93f55"],style:{labels:{fill:"#e4e3d3",fontSize:10},title:{fill:"#e4e3d3",fontSize:10}}}),r.a.createElement(j.a,{style:{axis:{stroke:"#e4e3d3"},grid:{stroke:"rgba(188, 187, 174, 0.3)"}},tickFormat:function(e){return"".concat(e," ").concat(l({id:"labels.pcs"}))},dependentAxis:!0,tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{fontSize:"12px",fill:"#e4e3d3"}}))}),r.a.createElement(j.a,{tickValues:o,style:{axis:{stroke:"#e4e3d3"}},tickLabelComponent:r.a.createElement(x.a,null,r.a.createElement(O.a,{style:{textAnchor:"end",fontSize:"12px",fill:"#e4e3d3"},angle:-75}))}),r.a.createElement(T.a,{colorScale:["#23c9ff","#a93f55","#f7b267","#6B2D5C","#D7A7B1"]},r.a.createElement(k.a,{name:"bar-confirmed",maxDomain:{y:H+20},data:n.confirmed,animate:{duration:2e3},style:{labels:{fill:"#e4e3d3"}}}),r.a.createElement(k.a,{name:"bar-deaths",maxDomain:{y:H+20},data:n.deaths,style:{labels:{fill:"#e4e3d3"}},animate:{duration:2e3}}),r.a.createElement(k.a,{name:"bar-recovered",maxDomain:{y:H+20},data:n.recovered,style:{labels:{fill:"#e4e3d3"}},animate:{duration:2e3}})))))},J=function(e){var t=e.data,n=Object(u.a)().formatMessage,i=Object(a.useState)([]),l=Object(c.a)(i,2),o=l[0],d=l[1],s=Object(a.useState)([]),m=Object(c.a)(s,2),f=m[0],b=m[1],h=Object(a.useState)({confirmed:[],deaths:[],recovered:[]}),p=Object(c.a)(h,2),y=p[0],E=p[1],g=Object(a.useState)([]),v=Object(c.a)(g,2),j=v[0],x=v[1];Object(a.useEffect)((function(){if(t){var e=_(t.confirmed,"healthCareDistrict");d(e);var n=_(t.confirmed,"infectionSourceCountry");b(n);var a={confirmed:K(t.confirmed),deaths:K(t.deaths),recovered:K(t.recovered)};E(a);var r=function(e){return V.reduce((function(t,n,a){return 0===a?t.push({x:Object(I.a)(n,"dd.MM"),y:e.filter((function(e){return Object(B.a)(Object(H.a)(e.date),n)})).length}):t.push({x:Object(I.a)(n,"dd.MM"),y:t[a-1].y+e.filter((function(e){return Object(B.a)(Object(H.a)(e.date),n)})).length}),t}),[])}(t.confirmed);x(r)}}),[t]);return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(z,{data:j,title:n({id:"charts.totalInfectionsPerDay"})}),r.a.createElement(G,{data:y,title:n({id:"charts.infectionsPerDay"})}),r.a.createElement(w,{data:o,title:n({id:"charts.confirmedPerDistrict"})}),r.a.createElement(C,{data:f,title:n({id:"charts.confirmedPerCountry"})})):r.a.createElement("div",null,"loading"))};function q(){var e=Object(s.a)(["\n  font-size: 3rem;\n"]);return q=function(){return e},e}function U(){var e=Object(s.a)(["\n  min-width: 10rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: #222139;\n  padding: 0.5rem;\n"]);return U=function(){return e},e}var Y=f.a.div(U()),Q=f.a.div(q()),W=function(e){var t=e.number,n=e.label;return r.a.createElement(Y,null,r.a.createElement(Q,null,t),r.a.createElement("p",null,n))};function X(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  grid-gap: 1rem;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  &:not(:last-child) {\n    margin-bottom: 0.5rem;\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(s.a)(["\n  width: 100%;\n  padding-bottom: 2rem;\n  @media only screen and (min-width: 768px) {\n    width: 30rem;\n  }\n"]);return Z=function(){return e},e}var $=f.a.div(Z()),ee=f.a.div(X()),te=function(e){var t=e.confirmed,n=e.deaths,a=e.recovered,i=Object(u.a)().formatMessage;return r.a.createElement($,null,r.a.createElement("h2",null,r.a.createElement(m.a,{id:"site.titles.confirmed"})),r.a.createElement(ee,null,r.a.createElement(W,{number:t.all,label:i({id:"numbers.confirmed"})}),r.a.createElement(W,{number:t.today,label:i({id:"numbers.today"})})),r.a.createElement("h2",null,r.a.createElement(m.a,{id:"site.titles.deaths"})),r.a.createElement(ee,null,r.a.createElement(W,{number:n.all,label:i({id:"numbers.deaths"})}),r.a.createElement(W,{number:n.today,label:i({id:"numbers.today"})})),r.a.createElement("h2",null,r.a.createElement(m.a,{id:"site.titles.recovered"})),r.a.createElement(ee,null,r.a.createElement(W,{number:a.all,label:i({id:"numbers.recovered"})}),r.a.createElement(W,{number:a.today,label:i({id:"numbers.today"})})))},ne=n(143),ae=n(202);function re(){var e=Object(s.a)(['\n  query confirmed {\n    data @rest(type: "Data", path: "/") {\n      confirmed @type(name: "Confirmed") {\n        id\n        date\n        healthCareDistrict\n        infectionSourceCountry\n        infectionSource\n      }\n      deaths @type(name: "Deaths") {\n        id\n        date\n      }\n      recovered @type(name: "Recovered") {\n        id\n        date\n      }\n    }\n  }\n']);return re=function(){return e},e}var ie=n.n(ae)()(re()),le=n(119);function ce(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  line-height: 1.5rem;\n  align-items: center;\n  background-color: #222139;\n  padding: 2rem;\n  width: 80%;\n  margin: 2rem 1rem 2rem 1rem;\n  @media only screen and (min-width: 768px) {\n    width: 26rem;\n  }\n"]);return ce=function(){return e},e}function oe(){var e=Object(s.a)(["\n  background-color: ",";\n  border: 0.125rem solid #e4e3d3;\n  color: ",";\n  padding: 1rem;\n  width: 4rem;\n  &:first-child {\n    border-radius: 0.5rem 0 0 0.5rem;\n    border-right: none;\n  }\n\n  &:last-child {\n    border-radius: 0 0.5rem 0.5rem 0;\n    border-left: none;\n  }\n"]);return oe=function(){return e},e}function de(){var e=Object(s.a)(["\n  margin: 0 1rem 0 1rem;\n"]);return de=function(){return e},e}function se(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  margin: 2rem 1rem 2rem 1rem;\n  width: 80%;\n  @media only screen and (min-width: 1000px) {\n    width: 50rem;\n  }\n"]);return se=function(){return e},e}function ue(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-end;\n  width: 100%;\n  @media only screen and (min-width: 1000px) {\n    width: 50rem;\n  }\n"]);return ue=function(){return e},e}var me=f.a.header(ue()),fe=f.a.main(se()),be=f.a.div(de()),he=f.a.button(oe(),(function(e){return e.active?"#e4e3d3":"#2e2d4d"}),(function(e){return e.active?"#2e2d4d":"#e4e3d3"})),pe=f.a.div(ce()),ye=function(e){var t=e.changeLocale,n=Object(u.a)().locale,a=Object(ne.a)(ie).data,i=function(){t()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,null,r.a.createElement(be,null,r.a.createElement(he,{onClick:i,active:"fi"===n},"FI"),r.a.createElement(he,{onClick:i,active:"en"===n},"EN"))),r.a.createElement(fe,null,r.a.createElement("h1",null,r.a.createElement(m.a,{id:"site.title"})),r.a.createElement(pe,null,r.a.createElement("p",null,r.a.createElement(m.a,{id:"site.notification"})),r.a.createElement("p",null,"en"===n?r.a.createElement("a",{href:"https://yle.fi/uutiset/osasto/news/hus_coronavirus_testing_to_focus_on_health_professionals/11257869"},"HUS: Coronavirus testing to focus on health professionals - YLE"):r.a.createElement("a",{href:"https://www.hs.fi/kotimaa/art-2000006440293.html"},"Testaus\xadtavan muutos Husissa v\xe4hensi havaittuja tartuntoja sunnuntaina \u2013 Suomi tartunnoissa yh\xe4 Pohjois\xadmaiden tahdissa - HS"))),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{confirmed:{all:a.data.confirmed.length,today:a.data.confirmed.filter((function(e){return Object(le.a)(new Date(e.date))})).length},deaths:{all:a.data.deaths.length,today:a.data.deaths.filter((function(e){return Object(le.a)(new Date(e.date))})).length},recovered:{all:a.data.recovered.length,today:a.data.recovered.filter((function(e){return Object(le.a)(new Date(e.date))})).length}}),r.a.createElement(J,{data:a.data}))),r.a.createElement(p,null))},Ee=n(207),ge=n(208),ve=n(61),je=n(210),xe=n(209),Oe=new je.a,ke=new xe.RestLink({uri:"https://w3qa5ydb4l.execute-api.eu-west-1.amazonaws.com/prod/finnishCoronaData"}),we=new ve.a({link:ke,cache:Oe}),Se={en:Ee,fi:ge},De=function(){var e=localStorage.getItem("locale"),t="en"===e||"fi"===e?e:"fi",n=Object(a.useState)(t),i=Object(c.a)(n,2),l=i[0],s=i[1];return r.a.createElement(d.a,{locale:l,messages:Se[l]},r.a.createElement(o.a,{client:we},r.a.createElement(ye,{changeLocale:function(){localStorage.setItem("locale","en"===l?"fi":"en"),s("en"===l?"fi":"en")}})))};l.a.render(r.a.createElement(De,null),document.getElementById("root"))}},[[219,1,2]]]);
//# sourceMappingURL=main.3d6122f5.chunk.js.map